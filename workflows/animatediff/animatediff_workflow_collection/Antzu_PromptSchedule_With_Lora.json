{"last_node_id": 56, "last_link_id": 78, "nodes": [{"id": 10, "type": "CLIPTextEncode", "pos": [340, 510], "size": {"0": 420, "1": 180}, "flags": {"pinned": true}, "order": 11, "mode": 0, "inputs": [{"name": "clip", "type": "CLIP", "link": 8}], "outputs": [{"name": "CONDITIONING", "type": "CONDITIONING", "links": [7], "shape": 3}], "title": "Negative prompt", "properties": {"Node name for S&R": "CLIPTextEncode"}, "widgets_values": ["(low quality, worst quality:1.15)"], "color": "#322", "bgcolor": "#533"}, {"id": 11, "type": "Note", "pos": [340, -190], "size": {"0": 420, "1": 170}, "flags": {"pinned": true}, "order": 0, "mode": 0, "properties": {"text": ""}, "widgets_values": ["Prompt schedule goes in format:\n\n\"0\" :\"text\",\n\"12\" :\"text\",\n\"24\" :\"text\",\n\"36\" :\"text\",\n\"39\" :\"text\"\n\netc. Number is the frame, text is the prompt\n\nLast frame schedule does not have ,"], "color": "#432", "bgcolor": "#653"}, {"id": 5, "type": "CheckpointLoaderSimple", "pos": [0, 30], "size": {"0": 310, "1": 100}, "flags": {"pinned": true}, "order": 1, "mode": 0, "outputs": [{"name": "MODEL", "type": "MODEL", "links": [75], "shape": 3, "slot_index": 0}, {"name": "CLIP", "type": "CLIP", "links": [4, 8], "shape": 3, "slot_index": 1}, {"name": "VAE", "type": "VAE", "links": null, "shape": 3, "slot_index": 2}], "properties": {"Node name for S&R": "CheckpointLoaderSimple"}, "widgets_values": ["ANIME\\realcartoonAnime_v5.safetensors"], "color": "#233", "bgcolor": "#355"}, {"id": 2, "type": "ADE_AnimateDiffLoaderWithContext", "pos": [0, 560], "size": {"0": 310, "1": 122}, "flags": {"pinned": true}, "order": 15, "mode": 0, "inputs": [{"name": "model", "type": "MODEL", "link": 76}, {"name": "context_options", "type": "CONTEXT_OPTIONS", "link": 2, "slot_index": 1}, {"name": "motion_lora", "type": "MOTION_LORA", "link": null, "slot_index": 2}], "outputs": [{"name": "MODEL", "type": "MODEL", "links": [77], "shape": 3, "slot_index": 0}], "properties": {"Node name for S&R": "ADE_AnimateDiffLoaderWithContext"}, "widgets_values": ["mm_sd_v15_v2.ckpt", "sqrt_linear (AnimateDiff)"], "color": "#233", "bgcolor": "#355"}, {"id": 7, "type": "VAELoader", "pos": [0, 270], "size": {"0": 310, "1": 60}, "flags": {"pinned": true}, "order": 2, "mode": 0, "outputs": [{"name": "VAE", "type": "VAE", "links": [12], "shape": 3, "slot_index": 0}], "properties": {"Node name for S&R": "VAELoader"}, "widgets_values": ["BerrysMix2.vae.safetensors"], "color": "#233", "bgcolor": "#355"}, {"id": 6, "type": "CLIPSetLastLayer", "pos": [0, 170], "size": {"0": 310, "1": 60}, "flags": {"pinned": true}, "order": 10, "mode": 0, "inputs": [{"name": "clip", "type": "CLIP", "link": 4}], "outputs": [{"name": "CLIP", "type": "CLIP", "links": [5, 78], "shape": 3, "slot_index": 0}], "properties": {"Node name for S&R": "CLIPSetLastLayer"}, "widgets_values": [-2], "color": "#233", "bgcolor": "#355"}, {"id": 31, "type": "Note", "pos": [-240, 740], "size": {"0": 230, "1": 70}, "flags": {"pinned": true}, "order": 3, "mode": 0, "properties": {"text": ""}, "widgets_values": ["Match the batch size to amount of frames"], "color": "#432", "bgcolor": "#653"}, {"id": 9, "type": "KSampler (Efficient)", "pos": [790, 30], "size": {"0": 330, "1": 590}, "flags": {"pinned": true}, "order": 16, "mode": 0, "inputs": [{"name": "model", "type": "MODEL", "link": 77}, {"name": "positive", "type": "CONDITIONING", "link": 6}, {"name": "negative", "type": "CONDITIONING", "link": 7, "slot_index": 2}, {"name": "latent_image", "type": "LATENT", "link": 11}, {"name": "optional_vae", "type": "VAE", "link": 12}, {"name": "script", "type": "SCRIPT", "link": null}], "outputs": [{"name": "MODEL", "type": "MODEL", "links": [25], "shape": 3, "slot_index": 0}, {"name": "CONDITIONING+", "type": "CONDITIONING", "links": [53], "shape": 3, "slot_index": 1}, {"name": "CONDITIONING-", "type": "CONDITIONING", "links": [55], "shape": 3, "slot_index": 2}, {"name": "LATENT", "type": "LATENT", "links": [30], "shape": 3, "slot_index": 3}, {"name": "VAE", "type": "VAE", "links": [29], "shape": 3, "slot_index": 4}, {"name": "IMAGE", "type": "IMAGE", "links": [59], "shape": 3, "slot_index": 5}], "title": "First sampling", "properties": {"Node name for S&R": "KSampler (Efficient)"}, "widgets_values": ["Sample", -1, null, 20, 7, "euler", "normal", 1, "auto", "true"], "color": "#332233", "bgcolor": "#553355", "shape": 1}, {"id": 14, "type": "ADE_EmptyLatentImageLarge", "pos": [0, 720], "size": {"0": 310.79998779296875, "1": 110}, "flags": {"pinned": true}, "order": 4, "mode": 0, "outputs": [{"name": "LATENT", "type": "LATENT", "links": [11], "shape": 3, "slot_index": 0}], "properties": {"Node name for S&R": "ADE_EmptyLatentImageLarge"}, "widgets_values": [512, 512, 32], "color": "#233", "bgcolor": "#355"}, {"id": 3, "type": "ADE_AnimateDiffUniformContextOptions", "pos": [0, 370], "size": {"0": 310, "1": 154}, "flags": {"pinned": true}, "order": 5, "mode": 0, "outputs": [{"name": "CONTEXT_OPTIONS", "type": "CONTEXT_OPTIONS", "links": [2], "shape": 3}], "properties": {"Node name for S&R": "ADE_AnimateDiffUniformContextOptions"}, "widgets_values": [16, 1, 3, "uniform", false], "color": "#233", "bgcolor": "#355"}, {"id": 8, "type": "BatchPromptSchedule", "pos": [340, 30], "size": {"0": 419.08538818359375, "1": 443.6990966796875}, "flags": {"pinned": true}, "order": 13, "mode": 0, "inputs": [{"name": "clip", "type": "CLIP", "link": 5}], "outputs": [{"name": "CONDITIONING", "type": "CONDITIONING", "links": [6], "shape": 3, "slot_index": 0}], "properties": {"Node name for S&R": "BatchPromptSchedule"}, "widgets_values": ["\"0\" :\"looking away\",\n\n\"8\" :\"looking at viewer\",\n\n\"16\" :\"looking up\",\n\n\"24\" :\"looking at viewer\",\n\n\"32\" :\"looking away\"", 32, "masterpiece, best quality,", "", 0, 0, 0, 0], "color": "#232", "bgcolor": "#353"}, {"id": 40, "type": "ControlNetApplyAdvanced", "pos": [1150, 660], "size": {"0": 340, "1": 170}, "flags": {"pinned": true}, "order": 18, "mode": 0, "inputs": [{"name": "positive", "type": "CONDITIONING", "link": 53}, {"name": "negative", "type": "CONDITIONING", "link": 55}, {"name": "control_net", "type": "CONTROL_NET", "link": 57, "slot_index": 2}, {"name": "image", "type": "IMAGE", "link": 59, "slot_index": 3}], "outputs": [{"name": "positive", "type": "CONDITIONING", "links": [54], "shape": 3, "slot_index": 0}, {"name": "negative", "type": "CONDITIONING", "links": [56], "shape": 3, "slot_index": 1}], "properties": {"Node name for S&R": "ControlNetApplyAdvanced"}, "widgets_values": [1, 0, 1], "color": "#233", "bgcolor": "#355"}, {"id": 41, "type": "ControlNetLoaderAdvanced", "pos": [1150, 870], "size": {"0": 344.3999938964844, "1": 60}, "flags": {"pinned": true}, "order": 12, "mode": 0, "inputs": [{"name": "timestep_keyframe", "type": "TIMESTEP_KEYFRAME", "link": 58, "slot_index": 0}], "outputs": [{"name": "CONTROL_NET", "type": "CONTROL_NET", "links": [57], "shape": 3}], "properties": {"Node name for S&R": "ControlNetLoaderAdvanced"}, "widgets_values": ["control_v11f1e_sd15_tile.pth"], "color": "#233", "bgcolor": "#355"}, {"id": 42, "type": "ScaledSoftControlNetWeights", "pos": [1150, 970], "size": {"0": 340, "1": 102}, "flags": {"pinned": true}, "order": 6, "mode": 0, "outputs": [{"name": "CONTROL_NET_WEIGHTS", "type": "CONTROL_NET_WEIGHTS", "links": null, "shape": 3}, {"name": "TIMESTEP_KEYFRAME", "type": "TIMESTEP_KEYFRAME", "links": [58], "shape": 3}], "properties": {"Node name for S&R": "ScaledSoftControlNetWeights"}, "widgets_values": [0.75, false], "color": "#233", "bgcolor": "#355"}, {"id": 29, "type": "NNLatentUpscale", "pos": [1150, -90], "size": {"0": 340, "1": 82}, "flags": {"pinned": true}, "order": 17, "mode": 0, "inputs": [{"name": "latent", "type": "LATENT", "link": 30}], "outputs": [{"name": "LATENT", "type": "LATENT", "links": [31], "shape": 3, "slot_index": 0}], "properties": {"Node name for S&R": "NNLatentUpscale"}, "widgets_values": ["SD 1.x", 1.25], "color": "#233", "bgcolor": "#355"}, {"id": 28, "type": "KSampler (Efficient)", "pos": [1150, 30], "size": {"0": 340, "1": 590}, "flags": {"pinned": true}, "order": 19, "mode": 0, "inputs": [{"name": "model", "type": "MODEL", "link": 25}, {"name": "positive", "type": "CONDITIONING", "link": 54}, {"name": "negative", "type": "CONDITIONING", "link": 56, "slot_index": 2}, {"name": "latent_image", "type": "LATENT", "link": 31}, {"name": "optional_vae", "type": "VAE", "link": 29}, {"name": "script", "type": "SCRIPT", "link": null}], "outputs": [{"name": "MODEL", "type": "MODEL", "links": null, "shape": 3}, {"name": "CONDITIONING+", "type": "CONDITIONING", "links": null, "shape": 3}, {"name": "CONDITIONING-", "type": "CONDITIONING", "links": null, "shape": 3}, {"name": "LATENT", "type": "LATENT", "links": null, "shape": 3}, {"name": "VAE", "type": "VAE", "links": null, "shape": 3}, {"name": "IMAGE", "type": "IMAGE", "links": [66, 67, 71], "shape": 3, "slot_index": 5}], "title": "Upscale + refine", "properties": {"Node name for S&R": "KSampler (Efficient)"}, "widgets_values": ["Sample", -1, null, 12, 7, "dpmpp_2m", "normal", 0.7000000000000001, "auto", "true"], "color": "#332233", "bgcolor": "#553355", "shape": 1}, {"id": 47, "type": "FILM VFI", "pos": [1520, 210], "size": {"0": 302.3999938964844, "1": 130}, "flags": {"pinned": true, "collapsed": false}, "order": 24, "mode": 0, "inputs": [{"name": "frames", "type": "IMAGE", "link": 63}, {"name": "optional_interpolation_states", "type": "INTERPOLATION_STATES", "link": null, "slot_index": 1}], "outputs": [{"name": "IMAGE", "type": "IMAGE", "links": [62], "shape": 3, "slot_index": 0}], "title": "Interpolation for 1st and last frame", "properties": {"Node name for S&R": "FILM VFI"}, "widgets_values": ["film_net_fp32.pt", 10, 2], "color": "#782347", "bgcolor": "#8c375b"}, {"id": 44, "type": "ImageSelector", "pos": [1520, 30], "size": {"0": 300, "1": 60}, "flags": {"pinned": true}, "order": 20, "mode": 0, "inputs": [{"name": "images", "type": "IMAGE", "link": 66}], "outputs": [{"name": "IMAGE", "type": "IMAGE", "links": [60], "shape": 3, "slot_index": 0}], "properties": {"Node name for S&R": "ImageSelector"}, "widgets_values": ["32"], "color": "#233", "bgcolor": "#355"}, {"id": 45, "type": "ImageSelector", "pos": [1590, 130], "size": {"0": 210, "1": 60}, "flags": {"pinned": true, "collapsed": true}, "order": 21, "mode": 0, "inputs": [{"name": "images", "type": "IMAGE", "link": 67}], "outputs": [{"name": "IMAGE", "type": "IMAGE", "links": [61], "shape": 3, "slot_index": 0}], "properties": {"Node name for S&R": "ImageSelector"}, "widgets_values": ["1"]}, {"id": 43, "type": "ImageCombine", "pos": [1590, 170], "size": {"0": 210, "1": 60}, "flags": {"pinned": true, "collapsed": true}, "order": 23, "mode": 0, "inputs": [{"name": "image_1", "type": "IMAGE", "link": 60}, {"name": "image_2", "type": "IMAGE", "link": 61}], "outputs": [{"name": "IMAGE", "type": "IMAGE", "links": [63], "shape": 3, "slot_index": 0}], "properties": {"Node name for S&R": "ImageCombine"}}, {"id": 32, "type": "FILM VFI", "pos": [1850, 30], "size": {"0": 300, "1": 130}, "flags": {"pinned": true}, "order": 22, "mode": 0, "inputs": [{"name": "frames", "type": "IMAGE", "link": 71}, {"name": "optional_interpolation_states", "type": "INTERPOLATION_STATES", "link": null}], "outputs": [{"name": "IMAGE", "type": "IMAGE", "links": [69], "shape": 3, "slot_index": 0}], "title": "Film interpolation", "properties": {"Node name for S&R": "FILM VFI"}, "widgets_values": ["film_net_fp32.pt", 10, 2], "color": "#782347", "bgcolor": "#8c375b"}, {"id": 46, "type": "ImageCombine", "pos": [1920, 200], "size": {"0": 210, "1": 50}, "flags": {"pinned": true, "collapsed": true}, "order": 25, "mode": 0, "inputs": [{"name": "image_1", "type": "IMAGE", "link": 69}, {"name": "image_2", "type": "IMAGE", "link": 62}], "outputs": [{"name": "IMAGE", "type": "IMAGE", "links": [70], "shape": 3, "slot_index": 0}], "properties": {"Node name for S&R": "ImageCombine"}}, {"id": 15, "type": "VHS_VideoCombine", "pos": [1850, 240], "size": {"0": 300, "1": 492}, "flags": {"pinned": true}, "order": 26, "mode": 0, "inputs": [{"name": "images", "type": "IMAGE", "link": 70}], "outputs": [{"name": "GIF", "type": "GIF", "links": null, "shape": 3}], "properties": {"Node name for S&R": "VHS_VideoCombine"}, "widgets_values": [13, 0, "AnimateDiff_10/AND_", "video/webm", false, true], "color": "#782347", "bgcolor": "#8c375b"}, {"id": 48, "type": "Note", "pos": [1560, -90], "size": {"0": 220, "1": 80}, "flags": {"pinned": true}, "order": 7, "mode": 0, "properties": {"text": ""}, "widgets_values": ["This interpolates first and last frame to make the loop smoother, change the number to equal the frame amount of your animation"], "color": "#432", "bgcolor": "#653"}, {"id": 49, "type": "Note", "pos": [1560, 380], "size": {"0": 220, "1": 60}, "flags": {"pinned": true}, "order": 8, "mode": 0, "properties": {"text": ""}, "widgets_values": ["Multiplier: How many frames you want to put between last and first"], "color": "#432", "bgcolor": "#653"}, {"id": 55, "type": "CR Apply LoRA Stack", "pos": [70, 870], "size": {"0": 210, "1": 66}, "flags": {"collapsed": true, "pinned": true}, "order": 14, "mode": 0, "inputs": [{"name": "model", "type": "MODEL", "link": 75}, {"name": "clip", "type": "CLIP", "link": 78}, {"name": "lora_stack", "type": "LORA_STACK", "link": 73}], "outputs": [{"name": "MODEL", "type": "MODEL", "links": [76], "shape": 3, "slot_index": 0}, {"name": "CLIP", "type": "CLIP", "links": null, "shape": 3}], "properties": {"Node name for S&R": "CR Apply LoRA Stack"}}, {"id": 54, "type": "LoRA Stacker", "pos": [340, 730], "size": {"0": 420, "1": 230}, "flags": {"collapsed": false, "pinned": true}, "order": 9, "mode": 0, "inputs": [{"name": "lora_stack", "type": "LORA_STACK", "link": null}], "outputs": [{"name": "LORA_STACK", "type": "LORA_STACK", "links": [73], "shape": 3, "slot_index": 0}], "properties": {"Node name for S&R": "LoRA Stacker"}, "widgets_values": ["simple", 3, "None", 1, 1, 1, "None", 1, 1, 1, "None", 1, 1, 1, "None", 1, 1, 1, "None", 1, 1, 1, "None", 1, 1, 1, "None", 1, 1, 1, "None", 1, 1, 1, "None", 1, 1, 1, "None", 1, 1, 1, "None", 1, 1, 1, "None", 1, 1, 1, "None", 1, 1, 1, "None", 1, 1, 1, "None", 1, 1, 1, "None", 1, 1, 1, "None", 1, 1, 1, "None", 1, 1, 1, "None", 1, 1, 1, "None", 1, 1, 1, "None", 1, 1, 1, "None", 1, 1, 1, "None", 1, 1, 1, "None", 1, 1, 1, "None", 1, 1, 1, "None", 1, 1, 1, "None", 1, 1, 1, "None", 1, 1, 1, "None", 1, 1, 1, "None", 1, 1, 1, "None", 1, 1, 1, "None", 1, 1, 1, "None", 1, 1, 1, "None", 1, 1, 1, "None", 1, 1, 1, "None", 1, 1, 1, "None", 1, 1, 1, "None", 1, 1, 1, "None", 1, 1, 1, "None", 1, 1, 1, "None", 1, 1, 1, "None", 1, 1, 1, "None", 1, 1, 1, "None", 1, 1, 1, "None", 1, 1, 1, "None", 1, 1, 1, "None", 1, 1, 1, "None", 1, 1, 1, "None", 1, 1, 1], "color": "#233", "bgcolor": "#355", "shape": 1}], "links": [[2, 3, 0, 2, 1, "CONTEXT_OPTIONS"], [4, 5, 1, 6, 0, "CLIP"], [5, 6, 0, 8, 0, "CLIP"], [6, 8, 0, 9, 1, "CONDITIONING"], [7, 10, 0, 9, 2, "CONDITIONING"], [8, 5, 1, 10, 0, "CLIP"], [11, 14, 0, 9, 3, "LATENT"], [12, 7, 0, 9, 4, "VAE"], [25, 9, 0, 28, 0, "MODEL"], [29, 9, 4, 28, 4, "VAE"], [30, 9, 3, 29, 0, "LATENT"], [31, 29, 0, 28, 3, "LATENT"], [53, 9, 1, 40, 0, "CONDITIONING"], [54, 40, 0, 28, 1, "CONDITIONING"], [55, 9, 2, 40, 1, "CONDITIONING"], [56, 40, 1, 28, 2, "CONDITIONING"], [57, 41, 0, 40, 2, "CONTROL_NET"], [58, 42, 1, 41, 0, "TIMESTEP_KEYFRAME"], [59, 9, 5, 40, 3, "IMAGE"], [60, 44, 0, 43, 0, "IMAGE"], [61, 45, 0, 43, 1, "IMAGE"], [62, 47, 0, 46, 1, "IMAGE"], [63, 43, 0, 47, 0, "IMAGE"], [66, 28, 5, 44, 0, "IMAGE"], [67, 28, 5, 45, 0, "IMAGE"], [69, 32, 0, 46, 0, "IMAGE"], [70, 46, 0, 15, 0, "IMAGE"], [71, 28, 5, 32, 0, "IMAGE"], [73, 54, 0, 55, 2, "LORA_STACK"], [75, 5, 0, 55, 0, "MODEL"], [76, 55, 0, 2, 0, "MODEL"], [77, 2, 0, 9, 0, "MODEL"], [78, 6, 0, 55, 1, "CLIP"]], "groups": [], "config": {}, "extra": {}, "version": 0.4}